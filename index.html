<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QC with PWA</title>

  <link rel="canonical" href="https://mchodk.github.io/PWA_QC/" />
  <link rel="manifest" href="/PWA_QC/manifest.webmanifest">

<style>
* {
  box-sizing: border-box;
}
body { font-family: Arial, sans-serif; padding: 20px; margin: 0; background-color: #f2f2f2; }
.view { display: none; }
.view.active { display: block; }

.checkbox-group { background: white; padding: 15px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
button { background-color: #007BFF; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-size: 16px; cursor: pointer; width: 100%; margin-bottom: 10px; }
button:disabled { background-color: #aaa; }
.center-text { text-align: center; font-size: 20px; margin-bottom: 20px; }
#startView .center-text:first-of-type { font-size: 28px; font-weight: bold; }
#startButton { font-size: 22px; padding: 15px 20px; }
#report { background: white; padding: 15px; border-radius: 10px; }
.ok { color: green; }
.nok { color: red; }
#userBadge {
  position: fixed;
  top: 10px;
  right: 15px;
  background: #007BFF;
  color: white;
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 16px;
  font-weight: bold;
  z-index: 1000;
  display: none;
  display: flex;
  align-items: center;
  gap: 8px;
}

#userName {
  display: inline-block;
  line-height: 1;
}

#logoutBtn {
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  font-size: 28px;
  padding: 0;
  line-height: 1;
}
#logoutBtn:hover {
  color: #ffd700;
  transform: scale(1.15);
}
</style>
</head>

<body>
<div id="userBadge">
  <span id="userName"></span>
  <button id="logoutBtn" title="Wyloguj" aria-label="Wyloguj">⎋</button>
</div>

<!-- LOGIN -->
<div class="view active" id="loginView">
  <div class="center-text" style="font-size:28px;font-weight:bold;">Logowanie</div>

  <div class="checkbox-group">
    <label>Użytkownik:</label><br>
    <select id="loginUser" style="width:100%; padding:10px; margin-bottom:10px;">
      <option value="">-- wybierz --</option>
      <option value="test_user">test_user</option>
      <option value="test_lift">test_lift</option>
    </select>

    <label>Hasło:</label><br>
    <input type="password" id="loginPass" style="width:100%; padding:10px;">
    <div id="loginError" style="color:red; margin-top:10px; display:none;">
      Nieprawidłowy użytkownik lub hasło
    </div>
  </div>

  <button id="loginButton">Zaloguj</button>
</div>

<!-- START -->
<div class="view" id="startView">
  <div class="center-text">
    <img src="https://www.lift.pl/images/logo.png" style="max-width:100%; margin-bottom:20px;">
  </div>
  <div class="center-text">Zaczynamy</div>
  <div class="center-text">Wybierz jedną opcję:</div>
  <div class="checkbox-group" style="background:#e0e0e0;">
    <label><input type="checkbox" class="startOption" data-target="viewOpt1"> Opcja 1</label><br>
    <label><input type="checkbox" class="startOption" data-target="viewOpt2"> Opcja 2</label><br>
    <label><input type="checkbox" class="startOption" data-target="viewOpt3"> Opcja 3</label><br>
    <label><input type="checkbox" class="startOption" data-target="viewOpt4"> Opcja 4</label><br>
    <label><input type="checkbox" class="startOption" data-target="viewLB04_1"> LB-04</label>
  </div>
  
  <!-- PODOPCJE DLA OPCJI 2 -->
  <div class="checkbox-group" id="subOptions2" style="display:none; background:#d0f0ff;">
  <div class="center-text">Wybierz podopcję:</div>
  <label><input type="checkbox" class="subOption2" data-value="A"> Podopcja A</label><br>
  <label><input type="checkbox" class="subOption2" data-value="B"> Podopcja B</label>
</div>
  
  <button id="startButton" disabled>Start</button>
</div>

<!-- OPCJE -->
<div class="view" id="viewOpt1">
  <div class="checkbox-group">
    <label><input type="checkbox" class="cbOpt1" id="cb1A"> Sprawdzono 1A</label>
    <label style="display:none;"><input type="checkbox" class="cbOpt1" id="cb1B"> Sprawdzono 1B</label>
    <label style="display:none;"><input type="checkbox" class="cbOpt1" id="cb1C"> Sprawdzono 1C</label>
  </div>
  <button id="nextOpt1">Dalej</button>
</div>

<div class="view" id="viewOpt2">
  <div class="checkbox-group">
    <label><input type="checkbox" class="cbOpt2"> Sprawdzono 2A</label><br>
    <label><input type="checkbox" class="cbOpt2"> Sprawdzono 2B</label><br>
    <label><input type="checkbox" class="cbOpt2"> Sprawdzono 2C</label>
    
    <!-- DYNAMICZNE CHECKBOXY POD OPCJĄ 2 -->
    <div id="extraOpt2"></div>
  </div>
  <button id="nextOpt2">Dalej</button>
</div>

<div class="view" id="viewOpt3">
  <div class="checkbox-group">
    <label id="label3A"><input type="checkbox" class="cbOpt3" id="cb3A"> Sprawdzono 3A</label>
    <label id="label3B" style="display:none;"><input type="checkbox" class="cbOpt3" id="cb3B"> Sprawdzono 3B</label>
    <label id="label3C" style="display:none;"><input type="checkbox" class="cbOpt3" id="cb3C"> Sprawdzono 3C</label>
  </div>
  <button id="nextOpt3">Dalej</button>
</div>

<div class="view" id="viewOpt4">
  <div class="checkbox-group">
    <label><input type="checkbox" class="cbOpt4"> Sprawdzono 4A</label><br>
    <label><input type="checkbox" class="cbOpt4"> Sprawdzono 4B</label><br>
    <label><input type="checkbox" class="cbOpt4"> Sprawdzono 4C</label>
  </div>
  <button id="nextOpt4">Dalej</button>
</div>

<!-- LB-04 SCREENS -->
<div class="view" id="viewLB04_1">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Przygotowanie stanowiska</div>
    <label><input type="checkbox" class="cbLB04_1" id="cbLB04_1A"> Ustawić Szafę Sterowania na wózku transportowym i wyregulować wysokość.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1B"> Sprawdzić wizualnie estetykę i prowadzenie przewodów.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1C"> Sprawdzić mechanicznie dokręcenie wszystkich połączeń.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1D"> Ustawić Kasetę Jazdy Kontrolnej na stoliku.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1E"> Sprawdzić kompletność akcesoriów zgodnie z dokumentacją.(np kasetka stop)</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1F"> Sprawdzić estetykę i poprawność przewodów KJK.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1G"> Ustawić Panel Dyspozycji na stojaku.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1H"> W przypadku Kasety Dyspozycji ułożyć ją obok KJK.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1I"> Sprawdzić grawerkę oraz jakość połączeń.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1J"> Ułożyć Kasety Wezwań i Piętrowskazywacze w odpowiedniej kolejności.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1K"> Sprawdzić grawerkę i jakość wykonania połączeń.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1L"> Połączyć wszystkie kasety przewodami LiftCAN.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1M"> Ułożyć przewód Kasetki Jazdy Rewizyjnej z podszybia w pobliżu Szafy Sterowej.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1N"> Dołożyć rezystory końcowe magistrali oraz przelotkę CAN zgodnie z dokumentacją.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1O"> Ustawić wciągarkę o odpowiedniej mocy w pobliżu Szafy Sterowej.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_1" id="cbLB04_1P"> Ustawić UPS w pobliżu Szafy Sterowania (opcja).</label>
  </div>
  <button id="nextLB04_1">Dalej</button>
</div>

<div class="view" id="viewLB04_2">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Podłączenie szafy sterowania do symulatora</div>
    <label><input type="checkbox" class="cbLB04_2" id="cbLB04_2A"> Ustawić wszystkie wyłączniki Szafy Sterowej w pozycji WYŁ.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2B"> Podłączyć pilot jazdy rewizyjnej według schematu (str. 17,2).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2C"> Podłączyć przewody zasilające (L1, L2, L3, N, PE) oraz zasilanie administracyjne (1L1, 1N1, PE).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2D"> Podłączyć przewody F1 i F2 z próbnikami do odpowiednich zacisków szafy.
Podłączyć obwód bezpieczeństwa według schematu (str. 4,2).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2E"> Podłączyć obwód ogranicznika prędkości (str. 17)</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2F"> Podłączyć obwód termistora silnika i dmuchawy silnika (symulator) – zaciski 40, 41 i Na, B19
sygnalizację alarmu – S50, S51</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2G"> Podłączyć obwód łącznika EPO (symulator), ustawiony w pozycji WYŁ. (opcja)</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2H"> Podłączyć przewody do symulacji jazdy do odpowiednich zacisków modułu głównego IFO – góra</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2I"> Podłączyć przewody do symulacji jazdy do odpowiednich zacisków modułu głównego IFU – dół</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_2" id="cbLB04_2J"> Podłączyć przewody do symulacji jazdy do odpowiednich zacisków modułu głównego CN – GND w falowniku</label>
  </div>
  <button id="nextLB04_2">Dalej</button>
</div>

<div class="view" id="viewLB04_3">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Podłączenie wciągarki i UPS</div>
    <label><input type="checkbox" class="cbLB04_3" id="cbLB04_3A"> Podłączyć silnik do falownika wtykami U, V, W oraz przewód ochronny PE pod śrubkę wtyku.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_3" id="cbLB04_3B"> Podłączyć enkoder odpowiednią wtyczką do falownika.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_3" id="cbLB04_3C"> Sprawdzić napięcie cewki luzownika w przypisanej wciągarce; jeśli inne niż 207 V, zastosować odpowiednie przejściówki.
</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_3" id="cbLB04_3D"> Podłączyć UPS specjalnymi wtykami, zwracając uwagę na prawidłowość połączeń w szafie sterowej (WEJ./WYJ.).</label>
  </div>
  <button id="nextLB04_3">Dalej</button>
</div>

<div class="view" id="viewLB04_4">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Podłączenie kasety jazdy kontrolnej</div>
    <label><input type="checkbox" class="cbLB04_4" id="cbLB04_4A"> Podłączyć sygnały odwzorowania i wejścia diagnostyczne UB, VB, ZTK zgodnie ze schematem (str. 9,3).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_4" id="cbLB04_4B"> Podłączyć odpowiednie łączniki obwodu bezpieczeństwa zgodnie ze schematem (str. 4,2).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_4" id="cbLB04_4C"> Podłączyć dodatkową kasetkę sygnalizacyjną BYL i STOP (jeśli występuje).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_4" id="cbLB04_4D"> Podłączyć przewody F1 i F2 z próbnikami do specjalnych gniazd w zaciskach KJK.</label>
  </div>
  <button id="nextLB04_4">Dalej</button>
</div>

<div class="view" id="viewLB04_5">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Podłączenie panela i kasety wezwań</div>
    <label><input type="checkbox" class="cbLB04_5" id="cbLB04_5A"> Podłączyć przewód sygnałowy do Panelu Dyspozycji (Z1, lub Z2 jeśli są dwa panele).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_5" id="cbLB04_5B"> Podłączyć przewody LiftCAN od modułu odwzorowania w KJK do sterownika drzwi w symulatorze, a dalej do modułu dyspozycji w panelu.
</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_5" id="cbLB04_5C"> Podłączyć przewód LiftCAN z kasety wezwań ostatniego przystanku do modułu głównego w szafie sterowej (nie wpinamy do modułu głównego).
</label>
  </div>
  <button id="nextLB04_5">Dalej</button>
</div>

<div class="view" id="viewLB04_6">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Uruchamianie</div>
    <label><input type="checkbox" class="cbLB04_6" id="cbLB04_6A"> Wypiąć wtyczki LiftCAN z modułu głównego.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6B"> Załączyć główne zasilanie symulatora i ustawić liczbę przystanków (rodzaj drzwi).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6C"> Załączyć zasilanie główne szafy sterowej w symulatorze.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6D"> Załączyć zasilanie administracyjne szafy sterowej w symulatorze.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6E"> Załączyć łącznik EPE i poczekać na uruchomienie UPSa.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6F"> Zmierz napięcie (230 V) na wejściu bezpiecznika E1; jeśli prawidłowe, załączyć.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6G"> Załączyć wyłącznik różnicowoprądowy EHD i sprawdzić zasilacze NZ1 i NZ2.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6H"> Sprawdzić napięcia na wejściach bezpieczników E2, E3, EWZ zgodnie ze schematem (str. 3A1).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6I"> Sprawdzić separację wyjść bezpieczników względem masy (obudowy).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6J"> Załączyć bezpieczniki E3, E2, EWZ (wskaźniki w symulatorze powinny pokazywać odpowiednio 24 V i 48 V).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_6" id="cbLB04_6K"> Podłączyć ponownie wtyki LiftCAN do modułu głównego.</label>
  </div>
  <button id="nextLB04_6">Dalej</button>
</div>

<div class="view" id="viewLB04_7">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Programowanie</div>
    <label><input type="checkbox" class="cbLB04_7" id="cbLB04_7A"> Wprowadzić przygotowane przez projektanta parametry silnika do falownika za pomocą dedykowanego oprogramowania.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_7" id="cbLB04_7B"> Wprowadzić odpowiednie nastawy do modułu MT513 specjalnym oprogramowaniem.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_7" id="cbLB04_7C"> Sprawdzić i zaktualizować oprogramowanie modułu głównego LS2020 do najnowszej wersji.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_7" id="cbLB04_7D"> Wprowadzić ręcznie indywidualne nastawy dźwigu z dokumentacji (sprawdzić z kartą zamówienia i dokonać ewentualnych korekt).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_7" id="cbLB04_7E"> Ustawić pozostałe moduły w panelu dyspozycji i kasetach wezwań zgodnie z ich zastosowaniem.</label>
  </div>
  <button id="nextLB04_7">Dalej</button>
</div>

<div class="view" id="viewLB04_8">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Sprawdzanie</div>
    <label><input type="checkbox" class="cbLB04_8" id="cbLB04_8A"> Uruchomić jazdę rewizyjną; sprawdzić prawidłową pracę wciągarki i działanie luzownika.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8B"> Podłączyć wszystkie moduły (wtyki LiftCAN do modułu głównego) i przełączyć na jazdę normalną; sprawdzić prawidłowy dojazd na przystanek końcowy i wyświetlanie numeru piętra.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8C"> Jeżeli sterowanie wykorzystuje funkcję STO falownika, podczas postoju oraz dla każdego przekaźnika W31 i W32 sprawdzić, czy zmostkowanie zacisków 11 i 14 powoduje zarejestrowanie błędu (usterka 26).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8D"> Podczas jazdy normalnej sprawdzić, czy podanie sygnału GND na zacisk IF sterownika powoduje zarejestrowanie błędu (usterka 16).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8E"> Wydawać polecenia jazdy przyciskami w panelu dyspozycji i kasetach wezwań; sprawdzić prawidłowe wykonywanie poleceń i działanie drzwi kabinowych.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8F"> Sprawdzić działanie wszystkich pozostałych przycisków (otwieranie/zamykanie drzwi, stop, alarm, wentylator, itp.) oraz funkcji jazdy specjalnej.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8G"> Sprawdzić funkcję nawrotu drzwi (bariera świetlna, łącznik uderzeniowy, wejście diagnostyczne bariery świetlnej).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8H"> Sprawdzić działanie funkcji kontroli otwarcia obwodu bezpieczeństwa po otwarciu drzwi kabinowych i szybowych (usterka 23).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8I"> Sprawdzić funkcję przeciążenia i pełnego obciążenia; dla przeciążenia wymagana jest sygnalizacja dźwiękowa.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8J"> Sprawdzić funkcję zjazdu pożarowego; sprawdzić sygnalizację dźwiękową przy jazdach kontrolnych i prawidłowy zjazd po wyłączeniu jazdy kontrolnej. Dla dźwigu strażackiego stosować oddzielną procedurę.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8K"> Sprawdzić reakcję sterowania na przerywanie obwodu bezpieczeństwa i poprawność wskazań stanu obwodu na sterowniku.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8L"> Sprawdzić działanie dźwigu w każdym trybie BYPASS; sygnalizacja dźwiękowa powinna działać podczas jazdy.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8M"> Sprawdzić funkcję kontroli niezamierzonego ruchu kabiny (UCM).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8N"> Dla dźwigu z niskim nadszybiem/podszybiem sprawdzić system bezpieczeństwa i sygnalizację awaryjną po wejściu do szybu.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8O"> Sprawdzić działanie zjazdu awaryjnego: kierunek, prędkość i przystanek docelowy (jeżeli występuje).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8P"> Podczas testów zwracać uwagę na prawidłowość wskazań piętrowskazywaczy.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8R"> Zaprogramować i sprawdzić działanie łączności awaryjnej (jeżeli wymagane).</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_8" id="cbLB04_8S"> Sprawdzić działanie zasilania awaryjnego (oświetlenie awaryjne, alarm, komunikacja).</label>
  </div>
  <button id="nextLB04_8">Dalej</button>
</div>

<div class="view" id="viewLB04_9">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">Zakończenie kontroli</div>
    <label><input type="checkbox" class="cbLB04_9" id="cbLB04_9A"> Wyłączyć zasilanie wyłącznikiem w szafie sterowej oraz w modelu dźwigu.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_9" id="cbLB04_9B"> W szafie sterowej ustawić wszystkie wyłączniki i bezpieczniki w pozycji wyłączonej.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_9" id="cbLB04_9C"> Nakleić wymagane informacje i instrukcje.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_9" id="cbLB04_9D"> Odłączyć urządzenia i przekazać je do pakowania.</label>
    <label style="display:none;"><input type="checkbox" class="cbLB04_9" id="cbLB04_9E"> Przekazać dokumentację do Biura Technicznego w celu naniesienia poprawek.</label>
  </div>
  <button id="nextLB04_9">Dalej</button>
</div>

<!-- NUMERY SERYJNE MODUŁÓW -->
<div class="view" id="serialView">
  <div class="checkbox-group">
    <div class="center-text" style="font-size:22px;font-weight:bold;">
      Numery seryjne modułów
    </div>

    <div id="serialContainer">
      <input type="text"
             class="serialField"
             placeholder="Wpisz numer seryjny"
             style="width:100%; padding:10px; font-size:16px; margin-bottom:10px;">
    </div>

    <button id="addSerialField">+</button>
  </div>

  <button id="nextSerial">Dalej</button>
</div>

<!-- RAPORT -->
<div class="view" id="endView">
  <div class="center-text" style="font-size:24px;font-weight:bold;">Raport</div>
  <div id="report"></div>
  <button id="downloadPDF">Pobierz PDF</button>
  <button id="restartButton">Powrót do startu</button>
</div>

<!-- html2pdf.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<script>
let selectedStartOption = "";
let selectedGroup = "";
let loggedUser = "";

/* LOGIN */
const users = {
  test_user: "user",
  test_lift: "lift"
};

function showUser(user) {
  loggedUser = user;
  localStorage.setItem("loggedUser", user);

  document.getElementById('userName').textContent = user;
  document.getElementById('userBadge').style.display = "flex";
}

function logout() {
    loggedUser = "";
  localStorage.removeItem("loggedUser");

  // ukryj badge
  document.getElementById('userBadge').style.display = "none";

  // reset zmiennych
  selectedStartOption = "";
  selectedGroup = "";

  // odznacz WSZYSTKIE checkboxy
  document.querySelectorAll('input[type=checkbox]').forEach(cb => cb.checked = false);

  // ukryj podopcje Opcji 2
  subOptions2Div.style.display = 'none';
  subOptions2.forEach(s => s.checked = false);
  
  // reset pól numerów seryjnych
  const container = document.getElementById('serialContainer');
  if (container) {
    container.innerHTML = `
      <input type="text"
             class="serialField"
             placeholder="Wpisz numer seryjny"
             style="width:100%; padding:10px; font-size:16px; margin-bottom:10px;">
    `;
  }
  

  // reset pól logowania
  document.getElementById('loginUser').value = "";
  document.getElementById('loginPass').value = "";

  // wyczyść raport
  document.getElementById('report').innerHTML = "";

  // przywróć przyciski start / next
  startButton.disabled = true;
  ['nextOpt1','nextOpt2','nextOpt3','downloadPDF'].forEach(id => {
    const btn = document.getElementById(id);
    if (btn) btn.disabled = false;
  });

  // pokaż widok logowania
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('loginView').classList.add('active');
}

document.getElementById('loginButton').onclick = () => {
  const user = document.getElementById('loginUser').value;
  const pass = document.getElementById('loginPass').value;
  const error = document.getElementById('loginError');

  if (users[user] && users[user] === pass) {
    error.style.display = "none";
  
    showUser(user); 
  
    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.getElementById('startView').classList.add('active');
  }else {
    error.style.display = "block";
  }
};

document.getElementById('logoutBtn').onclick = logout;

// === START OPTIONS I PODOPCJE OPCJI 2 ===
const startOptions = document.querySelectorAll('.startOption');
const startButton = document.getElementById('startButton');
const subOptions2Div = document.getElementById('subOptions2');
const subOptions2 = document.querySelectorAll('.subOption2');

startOptions.forEach(cb => {
  cb.addEventListener('change', () => {
    // odznacz inne opcje
    startOptions.forEach(o => o !== cb && (o.checked = false));

    selectedStartOption = cb.parentElement.textContent.trim();
    selectedGroup = cb.dataset.target;

    // Start zawsze aktywny jeśli zaznaczono opcję
    startButton.disabled = !cb.checked;

    if (selectedGroup === 'viewOpt2' && cb.checked) {
      // Opcja 2 zaznaczona → pokaż podopcje
      subOptions2Div.style.display = 'block';
    } else {
      // Opcja 2 odznaczona lub inna opcja → ukryj podopcje
      subOptions2Div.style.display = 'none';
      subOptions2.forEach(s => s.checked = false);
    }
  });
});

//reset widocznosci przy opcji 1
function resetViewOpt1() {
  cb1A.checked = false;
  cb1B.checked = false;
  cb1C.checked = false;

  cb1B.parentElement.style.display = 'none';
  cb1C.parentElement.style.display = 'none';
}

//reset widocznosci przy LB-04
function resetViewLB04() {
  // Reset ekran 1
  cbLB04_1A.checked = false;
  cbLB04_1B.checked = false;
  cbLB04_1C.checked = false;
  cbLB04_1D.checked = false;
  cbLB04_1E.checked = false;
  cbLB04_1F.checked = false;
  cbLB04_1G.checked = false;
  cbLB04_1H.checked = false;
  cbLB04_1I.checked = false;
  cbLB04_1J.checked = false;
  cbLB04_1K.checked = false;
  cbLB04_1L.checked = false;
  cbLB04_1M.checked = false;
  cbLB04_1N.checked = false;
  cbLB04_1O.checked = false;
  cbLB04_1P.checked = false;
  cbLB04_1B.parentElement.style.display = 'none';
  cbLB04_1C.parentElement.style.display = 'none';
  cbLB04_1D.parentElement.style.display = 'none';
  cbLB04_1E.parentElement.style.display = 'none';
  cbLB04_1F.parentElement.style.display = 'none';
  cbLB04_1G.parentElement.style.display = 'none';
  cbLB04_1H.parentElement.style.display = 'none';
  cbLB04_1I.parentElement.style.display = 'none';
  cbLB04_1J.parentElement.style.display = 'none';
  cbLB04_1K.parentElement.style.display = 'none';
  cbLB04_1L.parentElement.style.display = 'none';
  cbLB04_1M.parentElement.style.display = 'none';
  cbLB04_1N.parentElement.style.display = 'none';
  cbLB04_1O.parentElement.style.display = 'none';
  cbLB04_1P.parentElement.style.display = 'none';
  
  // Reset ekran 2
  cbLB04_2A.checked = false;
  cbLB04_2B.checked = false;
  cbLB04_2C.checked = false;
  cbLB04_2D.checked = false;
  cbLB04_2E.checked = false;
  cbLB04_2F.checked = false;
  cbLB04_2G.checked = false;
  cbLB04_2H.checked = false;
  cbLB04_2I.checked = false;
  cbLB04_2J.checked = false;
  cbLB04_2B.parentElement.style.display = 'none';
  cbLB04_2C.parentElement.style.display = 'none';
  cbLB04_2D.parentElement.style.display = 'none';
  cbLB04_2E.parentElement.style.display = 'none';
  cbLB04_2F.parentElement.style.display = 'none';
  cbLB04_2G.parentElement.style.display = 'none';
  cbLB04_2H.parentElement.style.display = 'none';
  cbLB04_2I.parentElement.style.display = 'none';
  cbLB04_2J.parentElement.style.display = 'none';
  
  // Reset ekran 3
  cbLB04_3A.checked = false;
  cbLB04_3B.checked = false;
  cbLB04_3C.checked = false;
  cbLB04_3D.checked = false;
  cbLB04_3B.parentElement.style.display = 'none';
  cbLB04_3C.parentElement.style.display = 'none';
  cbLB04_3D.parentElement.style.display = 'none';
  
  // Reset ekran 4
  cbLB04_4A.checked = false;
  cbLB04_4B.checked = false;
  cbLB04_4C.checked = false;
  cbLB04_4D.checked = false;
  cbLB04_4B.parentElement.style.display = 'none';
  cbLB04_4C.parentElement.style.display = 'none';
  cbLB04_4D.parentElement.style.display = 'none';
  
  // Reset ekran 5
  cbLB04_5A.checked = false;
  cbLB04_5B.checked = false;
  cbLB04_5C.checked = false;
  cbLB04_5B.parentElement.style.display = 'none';
  cbLB04_5C.parentElement.style.display = 'none';
  
  // Reset ekran 6
  cbLB04_6A.checked = false;
  cbLB04_6B.checked = false;
  cbLB04_6C.checked = false;
  cbLB04_6D.checked = false;
  cbLB04_6E.checked = false;
  cbLB04_6F.checked = false;
  cbLB04_6G.checked = false;
  cbLB04_6H.checked = false;
  cbLB04_6I.checked = false;
  cbLB04_6J.checked = false;
  cbLB04_6K.checked = false;
  cbLB04_6B.parentElement.style.display = 'none';
  cbLB04_6C.parentElement.style.display = 'none';
  cbLB04_6D.parentElement.style.display = 'none';
  cbLB04_6E.parentElement.style.display = 'none';
  cbLB04_6F.parentElement.style.display = 'none';
  cbLB04_6G.parentElement.style.display = 'none';
  cbLB04_6H.parentElement.style.display = 'none';
  cbLB04_6I.parentElement.style.display = 'none';
  cbLB04_6J.parentElement.style.display = 'none';
  cbLB04_6K.parentElement.style.display = 'none';
  
  // Reset ekran 7
  cbLB04_7A.checked = false;
  cbLB04_7B.checked = false;
  cbLB04_7C.checked = false;
  cbLB04_7D.checked = false;
  cbLB04_7E.checked = false;
  cbLB04_7B.parentElement.style.display = 'none';
  cbLB04_7C.parentElement.style.display = 'none';
  cbLB04_7D.parentElement.style.display = 'none';
  cbLB04_7E.parentElement.style.display = 'none';
  
  // Reset ekran 8
  cbLB04_8A.checked = false;
  cbLB04_8B.checked = false;
  cbLB04_8C.checked = false;
  cbLB04_8D.checked = false;
  cbLB04_8E.checked = false;
  cbLB04_8F.checked = false;
  cbLB04_8G.checked = false;
  cbLB04_8H.checked = false;
  cbLB04_8I.checked = false;
  cbLB04_8J.checked = false;
  cbLB04_8K.checked = false;
  cbLB04_8L.checked = false;
  cbLB04_8M.checked = false;
  cbLB04_8N.checked = false;
  cbLB04_8O.checked = false;
  cbLB04_8P.checked = false;
  cbLB04_8R.checked = false;
  cbLB04_8S.checked = false;
  cbLB04_8B.parentElement.style.display = 'none';
  cbLB04_8C.parentElement.style.display = 'none';
  cbLB04_8D.parentElement.style.display = 'none';
  cbLB04_8E.parentElement.style.display = 'none';
  cbLB04_8F.parentElement.style.display = 'none';
  cbLB04_8G.parentElement.style.display = 'none';
  cbLB04_8H.parentElement.style.display = 'none';
  cbLB04_8I.parentElement.style.display = 'none';
  cbLB04_8J.parentElement.style.display = 'none';
  cbLB04_8K.parentElement.style.display = 'none';
  cbLB04_8L.parentElement.style.display = 'none';
  cbLB04_8M.parentElement.style.display = 'none';
  cbLB04_8N.parentElement.style.display = 'none';
  cbLB04_8O.parentElement.style.display = 'none';
  cbLB04_8P.parentElement.style.display = 'none';
  cbLB04_8R.parentElement.style.display = 'none';
  cbLB04_8S.parentElement.style.display = 'none';
  
  cbLB04_9A.checked = false;
  cbLB04_9B.checked = false;
  cbLB04_9C.checked = false;
  cbLB04_9D.checked = false;
  cbLB04_9E.checked = false;
  cbLB04_9B.parentElement.style.display = 'none';
  cbLB04_9C.parentElement.style.display = 'none';
  cbLB04_9D.parentElement.style.display = 'none';
  cbLB04_9E.parentElement.style.display = 'none';
}

// obsługa podopcji Opcji 2
subOptions2.forEach(s => {
  s.addEventListener('change', () => {
    // tylko jedna podopcja może być zaznaczona
    subOptions2.forEach(o => o !== s && (o.checked = false));
    if (s.checked) selectedStartOption = `Opcja 2 - Podopcja ${s.dataset.value}`;
    else selectedStartOption = 'Opcja 2';
  });
});

// przycisk Start
startButton.onclick = () => {
  // przed zmianą widoku
    if(selectedGroup === 'viewOpt1') {
    resetViewOpt1(); // reset sekwencyjnych checkboxów
  }
  
  if(selectedGroup === 'viewLB04_1') {
    resetViewLB04(); // reset sekwencyjnych checkboxów LB-04
  }
  
  if (selectedGroup === 'viewOpt2') {
    const extraDiv = document.getElementById('extraOpt2');
    extraDiv.innerHTML = ''; // wyczyść poprzednie checkboxy

    if (selectedStartOption.includes('Podopcja A')) {
      extraDiv.innerHTML = `
        <label><input type="checkbox" class="extraOpt2"> Opcja A1</label><br>
        <label><input type="checkbox" class="extraOpt2"> Opcja A2</label>
      `;
    } else if (selectedStartOption.includes('Podopcja B')) {
      extraDiv.innerHTML = `
        <label><input type="checkbox" class="extraOpt2"> Opcja B1</label><br>
        <label><input type="checkbox" class="extraOpt2"> Opcja B2</label>
      `;
    }
  }
  if(selectedGroup === 'viewOpt3') {
    resetViewOpt3();
  }

  // pokaż wybrany widok
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById(selectedGroup).classList.add('active');
};

// === SEKWENCYJNE CHECKBOXY DLA OPCJI 1 ===
const cb1A = document.getElementById('cb1A');
const cb1B = document.getElementById('cb1B');
const cb1C = document.getElementById('cb1C');
const nextOpt1 = document.getElementById('nextOpt1');

cb1A.addEventListener('change', () => {
  if (cb1A.checked) {
    cb1B.parentElement.style.display = 'block'; // pokaż 1B
  } else {
    cb1B.checked = false;
    cb1C.checked = false;
    cb1B.parentElement.style.display = 'none'; // ukryj 1B
    cb1C.parentElement.style.display = 'none'; // ukryj 1C
  }
});

cb1B.addEventListener('change', () => {
  if (cb1B.checked) {
    cb1C.parentElement.style.display = 'block'; // pokaż 1C
  } else {
    cb1C.checked = false;
    cb1C.parentElement.style.display = 'none'; // ukryj 1C
  }
});

// Opcjonalnie, jeśli chcesz zablokować Dalej do czasu zaznaczenia ostatniego:
nextOpt1.disabled = true;
cb1C.addEventListener('change', () => {
  nextOpt1.disabled = !cb1C.checked;
});

// === SEKWENCYJNE CHECKBOXY DLA LB-04 ===
// Ekran 1
const cbLB04_1A = document.getElementById('cbLB04_1A');
const cbLB04_1B = document.getElementById('cbLB04_1B');
const cbLB04_1C = document.getElementById('cbLB04_1C');
const cbLB04_1D = document.getElementById('cbLB04_1D');
const cbLB04_1E = document.getElementById('cbLB04_1E');
const cbLB04_1F = document.getElementById('cbLB04_1F');
const cbLB04_1G = document.getElementById('cbLB04_1G');
const cbLB04_1H = document.getElementById('cbLB04_1H');
const cbLB04_1I = document.getElementById('cbLB04_1I');
const cbLB04_1J = document.getElementById('cbLB04_1J');
const cbLB04_1K = document.getElementById('cbLB04_1K');
const cbLB04_1L = document.getElementById('cbLB04_1L');
const cbLB04_1M = document.getElementById('cbLB04_1M');
const cbLB04_1N = document.getElementById('cbLB04_1N');
const cbLB04_1O = document.getElementById('cbLB04_1O');
const cbLB04_1P = document.getElementById('cbLB04_1P');
const nextLB04_1 = document.getElementById('nextLB04_1');

cbLB04_1A.addEventListener('change', () => {
  if (cbLB04_1A.checked) {
    cbLB04_1B.parentElement.style.display = 'block';
  } else {
    cbLB04_1B.checked = false;
    cbLB04_1C.checked = false;
    cbLB04_1D.checked = false;
    cbLB04_1E.checked = false;
    cbLB04_1F.checked = false;
    cbLB04_1G.checked = false;
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1B.parentElement.style.display = 'none';
    cbLB04_1C.parentElement.style.display = 'none';
    cbLB04_1D.parentElement.style.display = 'none';
    cbLB04_1E.parentElement.style.display = 'none';
    cbLB04_1F.parentElement.style.display = 'none';
    cbLB04_1G.parentElement.style.display = 'none';
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
    
  }
});

cbLB04_1B.addEventListener('change', () => {
  if (cbLB04_1B.checked) {
    cbLB04_1C.parentElement.style.display = 'block';
  } else {
    cbLB04_1C.checked = false;
    cbLB04_1D.checked = false;
    cbLB04_1E.checked = false;
    cbLB04_1F.checked = false;
    cbLB04_1G.checked = false;
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1C.parentElement.style.display = 'none';
    cbLB04_1D.parentElement.style.display = 'none';
    cbLB04_1E.parentElement.style.display = 'none';
    cbLB04_1F.parentElement.style.display = 'none';
    cbLB04_1G.parentElement.style.display = 'none';
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1C.addEventListener('change', () => {
  if (cbLB04_1C.checked) {
    cbLB04_1D.parentElement.style.display = 'block';
  } else {
    cbLB04_1D.checked = false;
    cbLB04_1E.checked = false;
    cbLB04_1F.checked = false;
    cbLB04_1G.checked = false;
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1D.parentElement.style.display = 'none';
    cbLB04_1E.parentElement.style.display = 'none';
    cbLB04_1F.parentElement.style.display = 'none';
    cbLB04_1G.parentElement.style.display = 'none';
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1D.addEventListener('change', () => {
  if (cbLB04_1D.checked) {
    cbLB04_1E.parentElement.style.display = 'block';
  } else {
    cbLB04_1E.checked = false;
    cbLB04_1F.checked = false;
    cbLB04_1G.checked = false;
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1E.parentElement.style.display = 'none';
    cbLB04_1F.parentElement.style.display = 'none';
    cbLB04_1G.parentElement.style.display = 'none';
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1E.addEventListener('change', () => {
  if (cbLB04_1E.checked) {
    cbLB04_1F.parentElement.style.display = 'block';
  } else {
    cbLB04_1F.checked = false;
    cbLB04_1G.checked = false;
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1F.parentElement.style.display = 'none';
    cbLB04_1G.parentElement.style.display = 'none';
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1F.addEventListener('change', () => {
  if (cbLB04_1F.checked) {
    cbLB04_1G.parentElement.style.display = 'block';
  } else {
    cbLB04_1G.checked = false;
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1G.parentElement.style.display = 'none';
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1G.addEventListener('change', () => {
  if (cbLB04_1G.checked) {
    cbLB04_1H.parentElement.style.display = 'block';
  } else {
    cbLB04_1H.checked = false;
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1H.parentElement.style.display = 'none';
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1H.addEventListener('change', () => {
  if (cbLB04_1H.checked) {
    cbLB04_1I.parentElement.style.display = 'block';
  } else {
    cbLB04_1I.checked = false;
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1I.parentElement.style.display = 'none';
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1I.addEventListener('change', () => {
  if (cbLB04_1I.checked) {
    cbLB04_1J.parentElement.style.display = 'block';
  } else {
    cbLB04_1J.checked = false;
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1J.parentElement.style.display = 'none';
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1J.addEventListener('change', () => {
  if (cbLB04_1J.checked) {
    cbLB04_1K.parentElement.style.display = 'block';
  } else {
    cbLB04_1K.checked = false;
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1K.parentElement.style.display = 'none';
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1K.addEventListener('change', () => {
  if (cbLB04_1K.checked) {
    cbLB04_1L.parentElement.style.display = 'block';
  } else {
    cbLB04_1L.checked = false;
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1L.parentElement.style.display = 'none';
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1L.addEventListener('change', () => {
  if (cbLB04_1L.checked) {
    cbLB04_1M.parentElement.style.display = 'block';
  } else {
    cbLB04_1M.checked = false;
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1M.parentElement.style.display = 'none';
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1M.addEventListener('change', () => {
  if (cbLB04_1M.checked) {
    cbLB04_1N.parentElement.style.display = 'block';
  } else {
    cbLB04_1N.checked = false;
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1N.parentElement.style.display = 'none';
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1N.addEventListener('change', () => {
  if (cbLB04_1N.checked) {
    cbLB04_1O.parentElement.style.display = 'block';
  } else {
    cbLB04_1O.checked = false;
    cbLB04_1P.checked = false;
    cbLB04_1O.parentElement.style.display = 'none';
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

cbLB04_1O.addEventListener('change', () => {
  if (cbLB04_1O.checked) {
    cbLB04_1P.parentElement.style.display = 'block';
  } else {
    cbLB04_1P.checked = false;
    cbLB04_1P.parentElement.style.display = 'none';
  }
});

// Ekran 2
const cbLB04_2A = document.getElementById('cbLB04_2A');
const cbLB04_2B = document.getElementById('cbLB04_2B');
const cbLB04_2C = document.getElementById('cbLB04_2C');
const cbLB04_2D = document.getElementById('cbLB04_2D');
const cbLB04_2E = document.getElementById('cbLB04_2E');
const cbLB04_2F = document.getElementById('cbLB04_2F');
const cbLB04_2G = document.getElementById('cbLB04_2G');
const cbLB04_2H = document.getElementById('cbLB04_2H');
const cbLB04_2I = document.getElementById('cbLB04_2I');
const cbLB04_2J = document.getElementById('cbLB04_2J');
const nextLB04_2 = document.getElementById('nextLB04_2');

cbLB04_2A.addEventListener('change', () => {
  if (cbLB04_2A.checked) {
    cbLB04_2B.parentElement.style.display = 'block';
  } else {
    cbLB04_2B.checked = false;
    cbLB04_2C.checked = false;
    cbLB04_2D.checked = false;
    cbLB04_2E.checked = false;
    cbLB04_2F.checked = false;
    cbLB04_2G.checked = false;
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2B.parentElement.style.display = 'none';
    cbLB04_2C.parentElement.style.display = 'none';
    cbLB04_2D.parentElement.style.display = 'none';
    cbLB04_2E.parentElement.style.display = 'none';
    cbLB04_2F.parentElement.style.display = 'none';
    cbLB04_2G.parentElement.style.display = 'none';
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2B.addEventListener('change', () => {
  if (cbLB04_2B.checked) {
    cbLB04_2C.parentElement.style.display = 'block';
  } else {
    cbLB04_2C.checked = false;
    cbLB04_2D.checked = false;
    cbLB04_2E.checked = false;
    cbLB04_2F.checked = false;
    cbLB04_2G.checked = false;
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2C.parentElement.style.display = 'none';
    cbLB04_2D.parentElement.style.display = 'none';
    cbLB04_2E.parentElement.style.display = 'none';
    cbLB04_2F.parentElement.style.display = 'none';
    cbLB04_2G.parentElement.style.display = 'none';
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2C.addEventListener('change', () => {
  if (cbLB04_2C.checked) {
    cbLB04_2D.parentElement.style.display = 'block';
  } else {
    cbLB04_2D.checked = false;
    cbLB04_2E.checked = false;
    cbLB04_2F.checked = false;
    cbLB04_2G.checked = false;
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2D.parentElement.style.display = 'none';
    cbLB04_2E.parentElement.style.display = 'none';
    cbLB04_2F.parentElement.style.display = 'none';
    cbLB04_2G.parentElement.style.display = 'none';
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2D.addEventListener('change', () => {
  if (cbLB04_2D.checked) {
    cbLB04_2E.parentElement.style.display = 'block';
  } else {
    cbLB04_2E.checked = false;
    cbLB04_2F.checked = false;
    cbLB04_2G.checked = false;
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2E.parentElement.style.display = 'none';
    cbLB04_2F.parentElement.style.display = 'none';
    cbLB04_2G.parentElement.style.display = 'none';
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2E.addEventListener('change', () => {
  if (cbLB04_2E.checked) {
    cbLB04_2F.parentElement.style.display = 'block';
  } else {
    cbLB04_2F.checked = false;
    cbLB04_2G.checked = false;
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2F.parentElement.style.display = 'none';
    cbLB04_2G.parentElement.style.display = 'none';
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2F.addEventListener('change', () => {
  if (cbLB04_2F.checked) {
    cbLB04_2G.parentElement.style.display = 'block';
  } else {
    cbLB04_2G.checked = false;
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2G.parentElement.style.display = 'none';
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2G.addEventListener('change', () => {
  if (cbLB04_2G.checked) {
    cbLB04_2H.parentElement.style.display = 'block';
  } else {
    cbLB04_2H.checked = false;
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2H.parentElement.style.display = 'none';
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2H.addEventListener('change', () => {
  if (cbLB04_2H.checked) {
    cbLB04_2I.parentElement.style.display = 'block';
  } else {
    cbLB04_2I.checked = false;
    cbLB04_2J.checked = false;
    cbLB04_2I.parentElement.style.display = 'none';
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

cbLB04_2I.addEventListener('change', () => {
  if (cbLB04_2I.checked) {
    cbLB04_2J.parentElement.style.display = 'block';
  } else {
    cbLB04_2J.checked = false;
    cbLB04_2J.parentElement.style.display = 'none';
  }
});

// Ekran 3
const cbLB04_3A = document.getElementById('cbLB04_3A');
const cbLB04_3B = document.getElementById('cbLB04_3B');
const cbLB04_3C = document.getElementById('cbLB04_3C');
const cbLB04_3D = document.getElementById('cbLB04_3D');
const nextLB04_3 = document.getElementById('nextLB04_3');

cbLB04_3A.addEventListener('change', () => {
  if (cbLB04_3A.checked) {
    cbLB04_3B.parentElement.style.display = 'block';
  } else {
    cbLB04_3B.checked = false;
    cbLB04_3C.checked = false;
    cbLB04_3D.checked = false;
    cbLB04_3B.parentElement.style.display = 'none';
    cbLB04_3C.parentElement.style.display = 'none';
    cbLB04_3D.parentElement.style.display = 'none';
  }
});

cbLB04_3B.addEventListener('change', () => {
  if (cbLB04_3B.checked) {
    cbLB04_3C.parentElement.style.display = 'block';
  } else {
    cbLB04_3C.checked = false;
    cbLB04_3D.checked = false;
    cbLB04_3C.parentElement.style.display = 'none';
    cbLB04_3D.parentElement.style.display = 'none';
  }
});

cbLB04_3C.addEventListener('change', () => {
  if (cbLB04_3C.checked) {
    cbLB04_3D.parentElement.style.display = 'block';
  } else {
    cbLB04_3D.checked = false;
    cbLB04_3D.parentElement.style.display = 'none';
  }
});

// Ekran 4
const cbLB04_4A = document.getElementById('cbLB04_4A');
const cbLB04_4B = document.getElementById('cbLB04_4B');
const cbLB04_4C = document.getElementById('cbLB04_4C');
const cbLB04_4D = document.getElementById('cbLB04_4D');
const nextLB04_4 = document.getElementById('nextLB04_4');

cbLB04_4A.addEventListener('change', () => {
  if (cbLB04_4A.checked) {
    cbLB04_4B.parentElement.style.display = 'block';
  } else {
    cbLB04_4B.checked = false;
    cbLB04_4C.checked = false;
    cbLB04_4D.checked = false;
    cbLB04_4B.parentElement.style.display = 'none';
    cbLB04_4C.parentElement.style.display = 'none';
    cbLB04_4D.parentElement.style.display = 'none';
  }
});

cbLB04_4B.addEventListener('change', () => {
  if (cbLB04_4B.checked) {
    cbLB04_4C.parentElement.style.display = 'block';
  } else {
    cbLB04_4C.checked = false;
    cbLB04_4D.checked = false;
    cbLB04_4C.parentElement.style.display = 'none';
    cbLB04_4D.parentElement.style.display = 'none';
  }
});

cbLB04_4C.addEventListener('change', () => {
  if (cbLB04_4C.checked) {
    cbLB04_4D.parentElement.style.display = 'block';
  } else {
    cbLB04_4D.checked = false;
    cbLB04_4D.parentElement.style.display = 'none';
  }
});

// Ekran 5
const cbLB04_5A = document.getElementById('cbLB04_5A');
const cbLB04_5B = document.getElementById('cbLB04_5B');
const cbLB04_5C = document.getElementById('cbLB04_5C');
const nextLB04_5 = document.getElementById('nextLB04_5');

cbLB04_5A.addEventListener('change', () => {
  if (cbLB04_5A.checked) {
    cbLB04_5B.parentElement.style.display = 'block';
  } else {
    cbLB04_5B.checked = false;
    cbLB04_5C.checked = false;
    cbLB04_5B.parentElement.style.display = 'none';
    cbLB04_5C.parentElement.style.display = 'none';
  }
});

cbLB04_5B.addEventListener('change', () => {
  if (cbLB04_5B.checked) {
    cbLB04_5C.parentElement.style.display = 'block';
  } else {
    cbLB04_5C.checked = false;
    cbLB04_5C.parentElement.style.display = 'none';
  }
});

// Ekran 6
const cbLB04_6A = document.getElementById('cbLB04_6A');
const cbLB04_6B = document.getElementById('cbLB04_6B');
const cbLB04_6C = document.getElementById('cbLB04_6C');
const cbLB04_6D = document.getElementById('cbLB04_6D');
const cbLB04_6E = document.getElementById('cbLB04_6E');
const cbLB04_6F = document.getElementById('cbLB04_6F');
const cbLB04_6G = document.getElementById('cbLB04_6G');
const cbLB04_6H = document.getElementById('cbLB04_6H');
const cbLB04_6I = document.getElementById('cbLB04_6I');
const cbLB04_6J = document.getElementById('cbLB04_6J');
const cbLB04_6K = document.getElementById('cbLB04_6K');
const nextLB04_6 = document.getElementById('nextLB04_6');

cbLB04_6A.addEventListener('change', () => {
  if (cbLB04_6A.checked) {
    cbLB04_6B.parentElement.style.display = 'block';
  } else {
    cbLB04_6B.checked = false;
    cbLB04_6C.checked = false;
    cbLB04_6D.checked = false;
    cbLB04_6E.checked = false;
    cbLB04_6F.checked = false;
    cbLB04_6G.checked = false;
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6B.parentElement.style.display = 'none';
    cbLB04_6C.parentElement.style.display = 'none';
    cbLB04_6D.parentElement.style.display = 'none';
    cbLB04_6E.parentElement.style.display = 'none';
    cbLB04_6F.parentElement.style.display = 'none';
    cbLB04_6G.parentElement.style.display = 'none';
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6B.addEventListener('change', () => {
  if (cbLB04_6B.checked) {
    cbLB04_6C.parentElement.style.display = 'block';
  } else {
    cbLB04_6C.checked = false;
    cbLB04_6D.checked = false;
    cbLB04_6E.checked = false;
    cbLB04_6F.checked = false;
    cbLB04_6G.checked = false;
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6C.parentElement.style.display = 'none';
    cbLB04_6D.parentElement.style.display = 'none';
    cbLB04_6E.parentElement.style.display = 'none';
    cbLB04_6F.parentElement.style.display = 'none';
    cbLB04_6G.parentElement.style.display = 'none';
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6C.addEventListener('change', () => {
  if (cbLB04_6C.checked) {
    cbLB04_6D.parentElement.style.display = 'block';
  } else {
    cbLB04_6D.checked = false;
    cbLB04_6E.checked = false;
    cbLB04_6F.checked = false;
    cbLB04_6G.checked = false;
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6D.parentElement.style.display = 'none';
    cbLB04_6E.parentElement.style.display = 'none';
    cbLB04_6F.parentElement.style.display = 'none';
    cbLB04_6G.parentElement.style.display = 'none';
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6D.addEventListener('change', () => {
  if (cbLB04_6D.checked) {
    cbLB04_6E.parentElement.style.display = 'block';
  } else {
    cbLB04_6E.checked = false;
    cbLB04_6F.checked = false;
    cbLB04_6G.checked = false;
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6E.parentElement.style.display = 'none';
    cbLB04_6F.parentElement.style.display = 'none';
    cbLB04_6G.parentElement.style.display = 'none';
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6E.addEventListener('change', () => {
  if (cbLB04_6E.checked) {
    cbLB04_6F.parentElement.style.display = 'block';
  } else {
    cbLB04_6F.checked = false;
    cbLB04_6G.checked = false;
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6F.parentElement.style.display = 'none';
    cbLB04_6G.parentElement.style.display = 'none';
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6F.addEventListener('change', () => {
  if (cbLB04_6F.checked) {
    cbLB04_6G.parentElement.style.display = 'block';
  } else {
    cbLB04_6G.checked = false;
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6G.parentElement.style.display = 'none';
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6G.addEventListener('change', () => {
  if (cbLB04_6G.checked) {
    cbLB04_6H.parentElement.style.display = 'block';
  } else {
    cbLB04_6H.checked = false;
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6H.parentElement.style.display = 'none';
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6H.addEventListener('change', () => {
  if (cbLB04_6H.checked) {
    cbLB04_6I.parentElement.style.display = 'block';
  } else {
    cbLB04_6I.checked = false;
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6I.parentElement.style.display = 'none';
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6I.addEventListener('change', () => {
  if (cbLB04_6I.checked) {
    cbLB04_6J.parentElement.style.display = 'block';
  } else {
    cbLB04_6J.checked = false;
    cbLB04_6K.checked = false;
    cbLB04_6J.parentElement.style.display = 'none';
    cbLB04_6K.parentElement.style.display = 'none';
  }
});

cbLB04_6J.addEventListener('change', () => {
  if (cbLB04_6J.checked) {
    cbLB04_6K.parentElement.style.display = 'block';
  } else {
    cbLB04_6K.checked = false;
    cbLB04_6K.parentElement.style.display = 'none';
  }
});


// Ekran 7
const cbLB04_7A = document.getElementById('cbLB04_7A');
const cbLB04_7B = document.getElementById('cbLB04_7B');
const cbLB04_7C = document.getElementById('cbLB04_7C');
const cbLB04_7D = document.getElementById('cbLB04_7D');
const cbLB04_7E = document.getElementById('cbLB04_7E');
const nextLB04_7 = document.getElementById('nextLB04_7');

cbLB04_7A.addEventListener('change', () => {
  if (cbLB04_7A.checked) {
    cbLB04_7B.parentElement.style.display = 'block';
  } else {
    cbLB04_7B.checked = false;
    cbLB04_7C.checked = false;
    cbLB04_7D.checked = false;
    cbLB04_7E.checked = false;
    cbLB04_7B.parentElement.style.display = 'none';
    cbLB04_7C.parentElement.style.display = 'none';
    cbLB04_7D.parentElement.style.display = 'none';
    cbLB04_7E.parentElement.style.display = 'none';
  }
});

cbLB04_7B.addEventListener('change', () => {
  if (cbLB04_7B.checked) {
    cbLB04_7C.parentElement.style.display = 'block';
  } else {
    cbLB04_7C.checked = false;
    cbLB04_7D.checked = false;
    cbLB04_7E.checked = false;
    cbLB04_7C.parentElement.style.display = 'none';
    cbLB04_7D.parentElement.style.display = 'none';
    cbLB04_7E.parentElement.style.display = 'none';
  }
});

cbLB04_7C.addEventListener('change', () => {
  if (cbLB04_7C.checked) {
    cbLB04_7D.parentElement.style.display = 'block';
  } else {
    cbLB04_7D.checked = false;
    cbLB04_7E.checked = false;
    cbLB04_7D.parentElement.style.display = 'none';
    cbLB04_7E.parentElement.style.display = 'none';
  }
});

cbLB04_7D.addEventListener('change', () => {
  if (cbLB04_7D.checked) {
    cbLB04_7E.parentElement.style.display = 'block';
  } else {
    cbLB04_7E.checked = false;
    cbLB04_7E.parentElement.style.display = 'none';
  }
});

// Ekran 8
const cbLB04_8A = document.getElementById('cbLB04_8A');
const cbLB04_8B = document.getElementById('cbLB04_8B');
const cbLB04_8C = document.getElementById('cbLB04_8C');
const cbLB04_8D = document.getElementById('cbLB04_8D');
const cbLB04_8E = document.getElementById('cbLB04_8E');
const cbLB04_8F = document.getElementById('cbLB04_8F');
const cbLB04_8G = document.getElementById('cbLB04_8G');
const cbLB04_8H = document.getElementById('cbLB04_8H');
const cbLB04_8I = document.getElementById('cbLB04_8I');
const cbLB04_8J = document.getElementById('cbLB04_8J');
const cbLB04_8K = document.getElementById('cbLB04_8K');
const cbLB04_8L = document.getElementById('cbLB04_8L');
const cbLB04_8M = document.getElementById('cbLB04_8M');
const cbLB04_8N = document.getElementById('cbLB04_8N');
const cbLB04_8O = document.getElementById('cbLB04_8O');
const cbLB04_8P = document.getElementById('cbLB04_8P');
const cbLB04_8R = document.getElementById('cbLB04_8R');
const cbLB04_8S = document.getElementById('cbLB04_8S');
const nextLB04_8 = document.getElementById('nextLB04_8');

cbLB04_8A.addEventListener('change', () => {
  if (cbLB04_8A.checked) {
    cbLB04_8B.parentElement.style.display = 'block';
  } else {
    cbLB04_8B.checked = false;
    cbLB04_8C.checked = false;
    cbLB04_8D.checked = false;
    cbLB04_8E.checked = false;
    cbLB04_8F.checked = false;
    cbLB04_8G.checked = false;
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8B.parentElement.style.display = 'none';
    cbLB04_8C.parentElement.style.display = 'none';
    cbLB04_8D.parentElement.style.display = 'none';
    cbLB04_8E.parentElement.style.display = 'none';
    cbLB04_8F.parentElement.style.display = 'none';
    cbLB04_8G.parentElement.style.display = 'none';
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8B.addEventListener('change', () => {
  if (cbLB04_8B.checked) {
    cbLB04_8C.parentElement.style.display = 'block';
  } else {
    cbLB04_8C.checked = false;
    cbLB04_8D.checked = false;
    cbLB04_8E.checked = false;
    cbLB04_8F.checked = false;
    cbLB04_8G.checked = false;
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8C.parentElement.style.display = 'none';
    cbLB04_8D.parentElement.style.display = 'none';
    cbLB04_8E.parentElement.style.display = 'none';
    cbLB04_8F.parentElement.style.display = 'none';
    cbLB04_8G.parentElement.style.display = 'none';
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8C.addEventListener('change', () => {
  if (cbLB04_8C.checked) {
    cbLB04_8D.parentElement.style.display = 'block';
  } else {
    cbLB04_8D.checked = false;
    cbLB04_8E.checked = false;
    cbLB04_8F.checked = false;
    cbLB04_8G.checked = false;
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8D.parentElement.style.display = 'none';
    cbLB04_8E.parentElement.style.display = 'none';
    cbLB04_8F.parentElement.style.display = 'none';
    cbLB04_8G.parentElement.style.display = 'none';
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8D.addEventListener('change', () => {
  if (cbLB04_8D.checked) {
    cbLB04_8E.parentElement.style.display = 'block';
  } else {
    cbLB04_8E.checked = false;
    cbLB04_8F.checked = false;
    cbLB04_8G.checked = false;
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8E.parentElement.style.display = 'none';
    cbLB04_8F.parentElement.style.display = 'none';
    cbLB04_8G.parentElement.style.display = 'none';
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8E.addEventListener('change', () => {
  if (cbLB04_8E.checked) {
    cbLB04_8F.parentElement.style.display = 'block';
  } else {
    cbLB04_8F.checked = false;
    cbLB04_8G.checked = false;
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8F.parentElement.style.display = 'none';
    cbLB04_8G.parentElement.style.display = 'none';
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8F.addEventListener('change', () => {
  if (cbLB04_8F.checked) {
    cbLB04_8G.parentElement.style.display = 'block';
  } else {
    cbLB04_8G.checked = false;
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8G.parentElement.style.display = 'none';
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8G.addEventListener('change', () => {
  if (cbLB04_8G.checked) {
    cbLB04_8H.parentElement.style.display = 'block';
  } else {
    cbLB04_8H.checked = false;
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8H.parentElement.style.display = 'none';
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8H.addEventListener('change', () => {
  if (cbLB04_8H.checked) {
    cbLB04_8I.parentElement.style.display = 'block';
  } else {
    cbLB04_8I.checked = false;
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8I.parentElement.style.display = 'none';
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8I.addEventListener('change', () => {
  if (cbLB04_8I.checked) {
    cbLB04_8J.parentElement.style.display = 'block';
  } else {
    cbLB04_8J.checked = false;
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8J.parentElement.style.display = 'none';
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8J.addEventListener('change', () => {
  if (cbLB04_8J.checked) {
    cbLB04_8K.parentElement.style.display = 'block';
  } else {
    cbLB04_8K.checked = false;
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8K.parentElement.style.display = 'none';
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8K.addEventListener('change', () => {
  if (cbLB04_8K.checked) {
    cbLB04_8L.parentElement.style.display = 'block';
  } else {
    cbLB04_8L.checked = false;
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8L.parentElement.style.display = 'none';
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8L.addEventListener('change', () => {
  if (cbLB04_8L.checked) {
    cbLB04_8M.parentElement.style.display = 'block';
  } else {
    cbLB04_8M.checked = false;
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8M.parentElement.style.display = 'none';
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8M.addEventListener('change', () => {
  if (cbLB04_8M.checked) {
    cbLB04_8N.parentElement.style.display = 'block';
  } else {
    cbLB04_8N.checked = false;
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8N.parentElement.style.display = 'none';
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8N.addEventListener('change', () => {
  if (cbLB04_8N.checked) {
    cbLB04_8O.parentElement.style.display = 'block';
  } else {
    cbLB04_8O.checked = false;
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8O.parentElement.style.display = 'none';
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8O.addEventListener('change', () => {
  if (cbLB04_8O.checked) {
    cbLB04_8P.parentElement.style.display = 'block';
  } else {
    cbLB04_8P.checked = false;
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8P.parentElement.style.display = 'none';
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8P.addEventListener('change', () => {
  if (cbLB04_8P.checked) {
    cbLB04_8R.parentElement.style.display = 'block';
  } else {
    cbLB04_8R.checked = false;
    cbLB04_8S.checked = false;
    cbLB04_8R.parentElement.style.display = 'none';
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

cbLB04_8R.addEventListener('change', () => {
  if (cbLB04_8R.checked) {
    cbLB04_8S.parentElement.style.display = 'block';
  } else {
    cbLB04_8S.checked = false;
    cbLB04_8S.parentElement.style.display = 'none';
  }
});

// Ekran 9
const cbLB04_9A = document.getElementById('cbLB04_9A');
const cbLB04_9B = document.getElementById('cbLB04_9B');
const cbLB04_9C = document.getElementById('cbLB04_9C');
const cbLB04_9D = document.getElementById('cbLB04_9D');
const cbLB04_9E = document.getElementById('cbLB04_9E');
const nextLB04_9 = document.getElementById('nextLB04_9');

cbLB04_9A.addEventListener('change', () => {
  if (cbLB04_9A.checked) {
    cbLB04_9B.parentElement.style.display = 'block';
  } else {
    cbLB04_9B.checked = false;
    cbLB04_9C.checked = false;
    cbLB04_9D.checked = false;
    cbLB04_9E.checked = false;
    cbLB04_9B.parentElement.style.display = 'none';
    cbLB04_9C.parentElement.style.display = 'none';
    cbLB04_9D.parentElement.style.display = 'none';
    cbLB04_9E.parentElement.style.display = 'none';
  }
});

cbLB04_9B.addEventListener('change', () => {
  if (cbLB04_9B.checked) {
    cbLB04_9C.parentElement.style.display = 'block';
  } else {
    cbLB04_9C.checked = false;
    cbLB04_9D.checked = false;
    cbLB04_9E.checked = false;
    cbLB04_9C.parentElement.style.display = 'none';
    cbLB04_9D.parentElement.style.display = 'none';
    cbLB04_9E.parentElement.style.display = 'none';
  }
});

cbLB04_9C.addEventListener('change', () => {
  if (cbLB04_9C.checked) {
    cbLB04_9D.parentElement.style.display = 'block';
  } else {
    cbLB04_9D.checked = false;
    cbLB04_9E.checked = false;
    cbLB04_9D.parentElement.style.display = 'none';
    cbLB04_9E.parentElement.style.display = 'none';
  }
});

cbLB04_9D.addEventListener('change', () => {
  if (cbLB04_9D.checked) {
    cbLB04_9E.parentElement.style.display = 'block';
  } else {
    cbLB04_9E.checked = false;
    cbLB04_9E.parentElement.style.display = 'none';
  }
});


// === SEKWENCYJNE CHECKBOXY OPCJI 3 ===
const cb3A = document.getElementById('cb3A');
const cb3B = document.getElementById('cb3B');
const cb3C = document.getElementById('cb3C');
const nextOpt3 = document.getElementById('nextOpt3');
const label3A = document.getElementById('label3A');
const label3B = document.getElementById('label3B');
const label3C = document.getElementById('label3C');

let step3 = 0; // krok w sekwencji 3A->3B->3C
let checkedSteps3 = []; // pamiętamy zaznaczone kroki

function resetViewOpt3() {
  label3A.style.display = 'block';
  label3B.style.display = 'none';
  label3C.style.display = 'none';
  cb3A.checked = false;
  cb3B.checked = false;
  cb3C.checked = false;
  step3 = 0;
  checkedSteps3 = [];
  nextOpt3.disabled = true; // przycisk szary
}

// Przy starcie: Dalej nieaktywny
nextOpt3.disabled = true;

// Funkcja do aktywowania/dezaktywowania przycisku w zależności od kroku
function updateNextOpt3State() {
  if(step3 === 0) nextOpt3.disabled = !cb3A.checked;
  else if(step3 === 1) nextOpt3.disabled = !cb3B.checked;
  else if(step3 === 2) nextOpt3.disabled = !cb3C.checked;
}

// Obsługa zmiany checkboxów – przy zaznaczeniu przycisk aktywny
[cb3A, cb3B, cb3C].forEach(cb => {
  cb.addEventListener('change', updateNextOpt3State);
});

// Kliknięcie Dalej – przechodzimy po krokach
nextOpt3.addEventListener('click', () => {
  if(step3 === 0 && cb3A.checked) {
    checkedSteps3.push('3A');       // zapamiętaj krok
    label3A.style.display = 'none';
    label3B.style.display = 'block';
    cb3A.checked = false;           // odznacz w UI
    step3++;
    updateNextOpt3State();
  } else if(step3 === 1 && cb3B.checked) {
    checkedSteps3.push('3B');       // zapamiętaj krok
    label3B.style.display = 'none';
    label3C.style.display = 'block';
    cb3B.checked = false;
    step3++;
    updateNextOpt3State();
  } else if(step3 === 2 && cb3C.checked) {
    checkedSteps3.push('3C');       // zapamiętaj krok
    cb3C.checked = false;
    showEndView();                  // pokaz raport
    step3 = 0;
    resetViewOpt3();
  }
});


// Opcja 1
document.getElementById('nextOpt1').onclick = showEndView;

// Opcja 2
document.getElementById('nextOpt2').onclick = showEndView;

/*numery seryjne*/
document.getElementById('nextOpt4').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('serialView').classList.add('active');
};

document.getElementById('nextSerial').onclick = showEndView;

// === LB-04 NAVIGATION ===
document.getElementById('nextLB04_1').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_2').classList.add('active');
};

document.getElementById('nextLB04_2').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_3').classList.add('active');
};

document.getElementById('nextLB04_3').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_4').classList.add('active');
};

document.getElementById('nextLB04_4').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_5').classList.add('active');
};

document.getElementById('nextLB04_5').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_6').classList.add('active');
  setTimeout(() => {
    alert('UWAGA!  Jeżeli w którymś etapie uruchamiania wystąpią nieprawidłowości NATYCHMIAST wyłączyć zasilanie !!!');
  }, 100);
};

document.getElementById('nextLB04_6').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_7').classList.add('active');
};

document.getElementById('nextLB04_7').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_8').classList.add('active');
};

document.getElementById('nextLB04_8').onclick = () => {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('viewLB04_9').classList.add('active');
};

document.getElementById('nextLB04_9').onclick = showEndView;

/* RAPORT */
function showEndView() {
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
  document.getElementById('endView').classList.add('active');

  let checkboxes;

  if (selectedGroup === 'viewOpt1') {
    checkboxes = document.querySelectorAll('.cbOpt1');
  } else if (selectedGroup === 'viewOpt2') {
    // zbierz standardowe cbOpt2 + dynamiczne extraOpt2
    checkboxes = document.querySelectorAll('.cbOpt2, .extraOpt2');
  } else if (selectedGroup === 'viewOpt3') {
    checkboxes = ['3A','3B','3C'].map(id => ({
      id,
      checked: checkedSteps3.includes(id),
      label: document.getElementById('label' + id).textContent.trim()
    }));
  } else if (selectedGroup === 'viewOpt4') {
    checkboxes = document.querySelectorAll('.cbOpt4');
  }else if (selectedGroup === 'viewLB04_1') {
    // Zbierz checkboxy ze wszystkich 9 ekranów LB-04 z nazwami ekranów
    const screenNames = {
      'cbLB04_1': 'Przygotowanie stanowiska',
      'cbLB04_2': 'Podłączenie szafy sterowania do symulatora',
      'cbLB04_3': 'Podłączenie wciągarki i UPS',
      'cbLB04_4': 'Podłączenie kasety jazdy kontrolnej',
      'cbLB04_5': 'Podłączenie panela i kasety wezwań',
      'cbLB04_6': 'Uruchamianie',
      'cbLB04_7': 'Programowanie',
      'cbLB04_8': 'Sprawdzanie',
      'cbLB04_9': 'Zakończenie kontroli'
    };
    
    checkboxes = [];
    for (let i = 1; i <= 9; i++) {
      const screenClass = `.cbLB04_${i}`;
      const screenCheckboxes = document.querySelectorAll(screenClass);
      if (screenCheckboxes.length > 0) {
        checkboxes.push({
          screenName: screenNames[`cbLB04_${i}`],
          items: Array.from(screenCheckboxes)
        });
      }
    }
  }

  let html = `<strong>Wybrana opcja:</strong> ${selectedStartOption}<br><br><ul>`;
  
if (selectedGroup === 'viewLB04_1') {
  // Specjalna obsługa dla LB-04 - pokaż tylko niezaznaczone pozycje + OK dla kompletnych
  let hasUnchecked = false;
  
  checkboxes.forEach(screen => {
    const uncheckedItems = screen.items.filter(cb => !cb.checked);
    
    if (uncheckedItems.length > 0) {
      hasUnchecked = true;
      html += `<h3 style="margin-top:20px; color:#007BFF;">${screen.screenName}</h3><ul>`;
      uncheckedItems.forEach(cb => {
        html += `<li class="nok">
          ✖ ${cb.parentElement.textContent.trim()}
        </li>`;
      });
      html += `</ul>`;
    } else {
      // Wszystkie checkboxy zaznaczone - pokaż OK
      html += `<h3 style="margin-top:20px; color:#007BFF;">${screen.screenName}</h3>`;
      html += `<p style="color:green; font-weight:bold; margin-left:20px;">✔ OK</p>`;
    }
  });
  
  if (!hasUnchecked) {
    html += `<br><p style="color:green; font-size:18px; font-weight:bold;">✔ Wszystkie pozycje zostały sprawdzone!</p>`;
  }
  
} else {
  // Standardowa obsługa dla innych opcji - pokaż wszystkie
  html += `<ul>`;
  checkboxes.forEach(cb => {
    if (cb.hasOwnProperty('checked') && cb.hasOwnProperty('label')) {
      // Opcja 3 – obiekt z id i checked
      html += `<li class="${cb.checked ? 'ok' : 'nok'}">
        ${cb.checked ? '✔' : '✖'} ${cb.label}
      </li>`;
    } else {
      // pozostałe opcje – DOM input checkbox
      html += `<li class="${cb.checked ? 'ok' : 'nok'}">
        ${cb.checked ? '✔' : '✖'} ${cb.parentElement.textContent.trim()}
      </li>`;
    }
  });
  html += `</ul>`;
}

  if (selectedGroup === 'viewOpt4') {
    const fields = document.querySelectorAll('.serialField');
    const values = [...fields]
      .map(f => f.value.trim())
      .filter(v => v);

    if (values.length) {
      html += `<br><strong>Numery seryjne modułów:</strong><br>`;
      values.forEach(v => {
        html += `${v}<br>`;
      });
    }
  }
  
  html += `<br><strong>Zatwierdził:</strong> ${loggedUser}`;
  document.getElementById('report').innerHTML = html;
}

/* PDF */
document.getElementById('downloadPDF').onclick = () => {
  // Pobranie aktualnej daty i czasu
const now = new Date();
const yearTwoDigits = String(now.getFullYear()).slice(-2); // "26"
const dateStr = yearTwoDigits + '-' +
                String(now.getMonth() + 1).padStart(2, '0') + '-' +
                String(now.getDate()).padStart(2, '0') + '_' +
                String(now.getHours()).padStart(2, '0') +
                String(now.getMinutes()).padStart(2, '0');

  // Pobranie elementu raportu
  const element = document.getElementById('report');

  // Generowanie PDF z dynamiczną nazwą
  html2pdf().from(element).set({
    margin: 0.5,
    filename: `raport_${dateStr}.pdf`,
    html2canvas: { scale: 2 },
    jsPDF: { orientation: 'portrait', unit: 'in', format: 'letter' }
  }).save();
};

/* RESET – działa zawsze */
document.getElementById('restartButton').onclick = () => {
  // reset zmiennych
  selectedStartOption = "";
  selectedGroup = "";

  // odznacz wszystkie checkboxy
  document.querySelectorAll('input[type=checkbox]').forEach(cb => cb.checked = false);

  // ukryj podopcje Opcji 2
  subOptions2Div.style.display = 'none';
  subOptions2.forEach(s => s.checked = false);
  
  // Reset Opcji 3 sekwencyjnej
  label3A.style.display = 'block';
  label3B.style.display = 'none';
  label3C.style.display = 'none';
  cb3A.checked = false;
  cb3B.checked = false;
  cb3C.checked = false;
  step3 = 0;
  

  // reset przycisków
  startButton.disabled = true;
  ['nextOpt1','nextOpt2','nextOpt3','downloadPDF'].forEach(id => {
    document.getElementById(id).disabled = false; // PDF zawsze aktywny przy nowym raporcie
  });
  
  // reset pól numerów seryjnych
  const container = document.getElementById('serialContainer');
  if (container) {
    container.innerHTML = `
      <input type="text"
             class="serialField"
             placeholder="Wpisz numer seryjny"
             style="width:100%; padding:10px; font-size:16px; margin-bottom:10px;">
    `;
  }

  // ukryj wszystkie widoki
  document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));

  // wyczyść raport
  document.getElementById('report').innerHTML = "";

  // pokaż start
  document.getElementById('startView').classList.add('active');
};

      if (navigator.serviceWorker) {
        navigator.serviceWorker.register (
          'sw.js',
          {scope: './'}
        )
      }

document.addEventListener("DOMContentLoaded", () => {
  const savedUser = localStorage.getItem("loggedUser");
  if (savedUser) {
    showUser(savedUser);

    document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
    document.getElementById('startView').classList.add('active');
  }
});

document.getElementById('addSerialField').onclick = () => {
  const container = document.getElementById('serialContainer');

  const input = document.createElement('input');
  input.type = 'text';
  input.className = 'serialField';
  input.placeholder = 'Wpisz numer seryjny';
  input.style.width = '100%';
  input.style.padding = '10px';
  input.style.fontSize = '16px';
  input.style.marginBottom = '10px';

  container.appendChild(input);
};


</script>

</body>
</html>
